function ulpm_link_with {
	pushd /tmp 2>/dev/null >/dev/null
	echo "int main() { return 0;}" > link_test.c
	gcc link_test.c -L $ulpm_prefix/lib -l$1 2>/dev/null >/dev/null
	result=$?
	rm a.out link_test.c 2>/dev/null >/dev/null
	popd >/dev/null
	return $result
}
function ulpm_make_install {
	make all $@ || return 1
	make install || return 1
	return 0
}

function ulpm_check_command {
	$1 2>/dev/null >/dev/null
	return $?
}
function ulpm_whereiz {
	found=$(whereis $1 |wc -w)
	if [ $found -gt 1 ]; then
		return 0
	fi
	return 1
} 

function ulpm_bz2get {
	wget -O - $1 | bzip2 -d | tar -x
	if [ $2 != $ulpm_actual_pack ]; then
		mv $2 $ulpm_actual_pack
	fi
}
function ulpm_gzget {
	wget -O - $1 | tar -xz
	if [ $2 != $ulpm_actual_pack ]; then
		mv $2 $ulpm_actual_pack
	fi
}

function ulpm_dotconfigure {
	./configure --prefix=$ulpm_prefix $@
}
